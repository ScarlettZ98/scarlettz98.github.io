# Dev Log - Sept 30, 2025

## Woolly Parlor Progress

Spent most of today working on the Three.js canvas setup. Finally got a decent foundation going!

---

## What I Actually Built Today

### Project Settings Thing
Started simple - made a `projectSettings.js` file so I can toggle edit mode on/off. Nothing fancy, just a global object that other scripts can read. Saves me from hardcoding stuff everywhere.

### Grid System (This was fun!)
Added those reference grids you see in Blender and other 3D apps:
- X, Y, Z plane grids that you can toggle with checkboxes
- Made the origin lines red so you can actually see where (0,0,0) is
- Only show up in edit mode, which keeps the view clean normally
- Took me a while to get the rotation math right for each plane

### Camera Controls (Ugh, math is hard)
The camera movement was feeling really weird, so I dove into the spherical coordinates:
- Fixed the rotation calculations - now it actually feels like you're orbiting around something
- Locked it to only horizontal rotation (±30°) because full 3D rotation was making me dizzy
- Much better zoom limits now
- Added proper touch support for mobile

### Floor Builder
Created a `Floor` class because I got tired of manually creating boxes:
- Takes length, width, and color
- Automatically centers itself and positions correctly 
- Has validation to make sure dimensions work with the grid
- Moved it to its own file to keep things organized

### Code Cleanup
Honestly, the code was getting messy so I spent time organizing:
- Grouped methods by what they actually do
- Added proper error handling (learned this the hard way when things crashed)
- Made sure scripts load in the right order
- Added safety checks everywhere

---

## Technical Stuff That Drove Me Crazy

**Camera Math**: Spent way too long figuring out why the camera felt weird. Turns out I had the spherical coordinate conversion backwards. Classic.

**Lighting**: The floor was basically invisible until I cranked up the lighting. Added proper shadows too, which makes everything look less flat.

**Module Imports**: Got caught by the ES6 export syntax not working in regular script tags. Had to fall back to good old `window.Floor` global variables.

**Error Handling**: The whole thing would crash if scripts loaded in the wrong order. Added checks everywhere now.

---

## What's Working Now

- Grid system toggles work perfectly
- Camera feels natural and doesn't make you motion sick
- Can create floors with `build_floor(10, 6, "#0000ff")` 
- Edit mode shows/hides controls properly
- Everything works on mobile too
- No more random crashes!

---

## What I Want to Add Next

- More building blocks (walls, maybe some furniture?)
- Way to select and move things around
- Save/load scenes somehow
- Maybe some basic physics if I'm feeling ambitious

---

## Random Notes

- The ombre background actually looks pretty nice
- Grid transparency was the right call - lets you see through them
- Camera constraints are way better than free-look for this use case
- Modular code is definitely worth the extra setup time
- Touch controls "just worked" once I got the mouse stuff right

Overall pretty happy with today's progress. Got a solid base to build on and learned a bunch about Three.js camera systems. The grid system especially feels really professional now.
